# 端口扫描器

一个基于Go语言开发的Web端口扫描器，支持扫描指定IP地址或域名的开放端口。

## 功能特性

- 🌐 **Web界面**: 现代化的响应式Web界面，支持移动端
- 🎯 **灵活扫描**: 支持扫描指定端口、端口范围或常用端口
- 🔍 **域名解析**: 自动解析域名到IP地址
- ⚡ **高速扫描**: 500并发连接，1秒超时，扫描速度提升5倍
- 📊 **实时进度**: 实时显示扫描进度、完成百分比、扫描速度
- 📈 **进度条**: 可视化进度条和详细统计信息
- 🛡️ **服务识别**: 自动识别常见端口对应的服务
- 🔄 **实时更新**: 使用Server-Sent Events实现实时进度更新

## 支持的端口范围

- **常用端口**: 21, 22, 23, 25, 53, 80, 110, 143, 443, 993, 995, 3389, 5432, 3306, 6379, 27017
- **自定义范围**: 支持如 `1-1000`、`80,443,8080` 等格式
- **全部端口**: 支持扫描 1-65535 的所有端口

## 安装和运行

### 前置要求

- Go 1.21 或更高版本
- 无需安装任何外部依赖（仅使用Go标准库）

### 运行程序

#### 方法1：使用智能启动脚本（推荐）
```bash
# 双击运行，自动处理端口占用问题
start.bat
```

#### 方法2：使用PowerShell脚本（功能最强大）
```powershell
.\start.ps1
```

#### 方法3：使用简化启动脚本
```bash
run.bat
```

#### 方法4：快速启动（开发调试）
```bash
quick-start.bat
```

#### 方法5：手动启动
```bash
go run main.go
```

**注意**：如果遇到"端口被占用"错误，请使用智能启动脚本自动处理。

## 使用方法

1. 打开浏览器访问 `http://localhost:8080`
2. 在"目标地址"输入框中输入要扫描的IP地址或域名
3. 选择要扫描的端口范围：
   - **常用端口**: 扫描常见的服务端口
   - **1-1000**: 扫描端口1到1000
   - **全部端口**: 扫描所有65535个端口
   - **自定义**: 输入自定义的端口或端口范围
4. 点击"开始扫描"按钮
5. 等待扫描完成，查看结果

## 端口范围格式

- 单个端口: `80`
- 多个端口: `80,443,8080`
- 端口范围: `1-1000`
- 混合格式: `22-25,80,443,8080-8090`

## 技术特性

- **并发控制**: 限制最大并发连接数为100，避免资源耗尽
- **超时设置**: 每个端口连接超时时间为3秒
- **错误处理**: 完善的错误处理和用户友好的错误提示
- **响应式设计**: 支持桌面和移动设备

## 项目结构

```
portscanner/
├── main.go          # 主程序文件
├── go.mod           # Go模块文件
├── static/          # 静态文件目录
│   └── index.html   # Web界面
└── README.md        # 说明文档
```

## API接口

### POST /api/scan

扫描指定目标的端口。

**请求参数:**
- `target`: 目标IP地址或域名
- `ports`: 端口范围（可选，默认为"all"）

**响应格式:**
```json
{
  "results": [
    {
      "host": "192.168.1.1",
      "port": 80,
      "open": true,
      "service": "HTTP"
    }
  ]
}
```

## 注意事项

- 请确保有足够的网络权限进行端口扫描
- 扫描大量端口可能需要较长时间
- 请遵守相关法律法规，仅对授权的目标进行扫描
- 建议在本地网络环境中使用

## 许可证

MIT License
